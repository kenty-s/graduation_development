<header class="sticky top-0 z-50 bg-white shadow-sm">
  <nav class="container mx-auto px-4">
    <div class="flex items-center justify-between h-16">
      <!-- 左側：ロゴ＆サービス名 -->
      <%= link_to '/', class: 'flex items-center gap-3 hover:opacity-80 transition-opacity' do %>
        <%= image_tag 'favicon.png', class: 'w-10 h-10 object-contain' %>
        <div class="flex flex-col leading-tight">
          <span class="font-bold text-base text-gray-800">キブンメシ</span>
        </div>
      <% end %>

      <!-- 右側：ログイン状態で切り替え -->
      <div class="flex items-center gap-3">
        <% if user_signed_in? %>
          <!-- ログイン済み -->
          <span class="text-gray-700">
            <%= current_user.name %>さん
          </span>
          <% if user_signed_in? %>
            <%= link_to "検索履歴", search_histories_path, class: "px-4 py-2 text-sm font-medium text-white bg-rose-500 rounded-md hover:bg-gray-600 transition-colors" %>
          <% end %>
          <%= button_to "ログアウト", destroy_user_session_path, 
              method: :delete, 
              class: "px-4 py-2 text-sm font-medium text-white bg-gray-500 rounded-md hover:bg-gray-600 transition-colors",
              form: { class: "inline" } %>
        <% else %>
          <!-- 未ログイン -->
          <%= link_to "ログイン", new_user_session_path, 
              class: "px-4 py-2 text-sm font-medium text-white bg-green-500 rounded-md hover:bg-blue-600 transition-colors" %>
          <%= link_to "新規登録", new_user_registration_path, 
              class: "px-6 py-2 text-sm font-bold text-white bg-orange-500 rounded-md hover:bg-orange-600 transition-colors" %>
        <% end %>
      </div>
    </div>
  </nav>
</header>